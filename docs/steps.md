# Campo Minato

<br>

## Steps:

- Recupero gli elementi
- [ml-5] Recupero la modale dei messaggi
- Setto la grandezza della griglia
- **QUANDO** _"premo play"_
    - [ml-1] Preparo il punteggio attuale
    - [ml-5] Segno che la partita non è finita
    - Recupero la difficoltà
    - **IN CASO** _"la difficoltà è 1 (facile)"_
        - Le celle per lato sono 10
    - **ALTRIMENTI IN CASO** _"la difficoltà è 2 (media)"_
        - Le celle per lato sono 9
    - **ALTRIMENTI**
        - Le celle per lato sono 7
    - Calcolo la grandezza delle celle
    - Calcolo il numero di celle
    - [ml-2] _"Genero 16 bombe"_
    - [ml-2] Salvo le bombe generate
    - [ml-4] Calcolo il punteggio massimo
    - Svuoto la griglia
    - [ml-5] Nascondo il messaggio nella modale
    - **FINCHE** _"non ho tutte le celle"_
        - _"Creo una cella"_
        - Appendo la cella alla griglia
        - collego l'evento click alla cella
    - **FINE**
- **QUANDO** _"premo su una cella"_
    - [ml-5] **SE** _"la partita è finita"_
        - **RITORNO**
    - [ml-1] **SE** _"la cella è stata già cliccata"_
        - **RITORNO**
    - Stampo il suo contenuto
    - Aggiungo il colore della cella cliccata
    - [ml-3] Recupero il numero di cella
    - [ml-3] **SE** _"la cella è una bomba"_
        - Aggiungo il colore della cella bomba
        - [ml-5] Setto la partita come finita
        - _"Mostro un messaggio"_
        - [bonus-s] _"Mostro tutte le celle"_
    - [ml-3] **ALTRIMENTI**
        - [ml-1] Aumento il punteggio
        - [###] _"Mostra le celle adiacenti"_
        - [ml-4] **SE** _"il punteggio è uguale al punteggio massimo"_
            - [ml-5] Setto la partita come finita
            - _"Mostro un messaggio"_
    - **FINE**
- **Creo una cella** _"data la grandezza e un numero"_
    - Creo un elemento
    - Setto le dimensioni dalla grandezza
    - Appendo il numero all'elemento
    - **RITORNO** _"l'elemento creato"_
- [ml-2] **Genero Bombe** _"dato il numero e il range di celle"_
    - Preparo una lista di celle bomba vuota
    - **FINCHE** _"non ho il numero di celle bomba"_
        - **RIPETO**
            - Genero una cella bomba casuale nel range fornito
        - **FINCHE** _"la cella bomba è già presente"_
        - Aggiungo la cella bomba alla lista
    - **RITORNO** _"La lista di celle bomba"_
- [ml-3] **Mostro un messaggio** _"dato il punteggio e se ha vinto"_
    - Preparo un messaggio di vittoria con il punteggio
    - **SE** _"ha perso"_
        - Aggiorno il messaggio con la sconfitta
    - Stampo il messaggio
    - [ml-5] Mostro il messaggio nella modale
    - **FINE**
- [bonus-s] **Mostro tutte le celle** _"data la lista di bombe"_
    - Recupero tutte le celle
    - **FINCHE** _"ho celle da scorrere"_
        - Recupero la cella corrente
        - Recupero il numero di cella
        - La segno come cliccata
        - **SE** _"la cella è una bomba"_
            - La segno come bomba
    - **FINE**
- [###] **Mostra le celle adiacenti**_"dato il numero di cella e la lista di bombe"_
    - _"Recupero le celle adiacenti"_
    - **FINCHE** _"ho celle da scorrere"_
        - Recupero la cella corrente
        - **SE** _"non è una bomba"_ **E** _"non è già cliccata"_
            - La segno come cliccata
            - Aumento il punteggio
    - **FINE**
- [###] **Recupero le celle adiacenti** _"dato il suo numero"_
    - Calcolo col e row del numero di cella
    - Preparo una lista di numeri di celle
    - **FINCHE** _"devo scorrere le colonne (x)"_
        - **FINCHE** _"devo scorrere le righe (y)"_
            - **SE** _"Sono nella griglia"_
                - Calcolo il numero della cella dalle coordinate
                - Aggiungo il numero di cella alla lista
    - **FINE**
- **FINE**